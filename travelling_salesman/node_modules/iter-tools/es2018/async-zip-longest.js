"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = zipLongest;

var _asyncIter = _interopRequireDefault(require("./async-iter"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function* zipLongest(filler) {
  const iters = Array.prototype.slice.call(arguments, 1).map(arg => (0, _asyncIter.default)(arg));

  while (true) {
    const results = await Promise.all(iters.map(iter => iter.next()));
    const done = results.every(r => r.done);
    if (done) return;
    yield results.map(r => r.done ? filler : r.value);
  }
}

module.exports = exports["default"];