"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = compress;

var _asyncZip = _interopRequireDefault(require("./async-zip"));

var _asyncFilter = _interopRequireDefault(require("./async-filter"));

var _asyncMap = _interopRequireDefault(require("./async-map"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function compress(iterable, compress) {
  const _map = (0, _asyncMap.default)(function (couple) {
    return couple[0];
  });

  const _filter = (0, _asyncFilter.default)(function (couple) {
    return couple[1];
  });

  return _map(_filter((0, _asyncZip.default)(iterable, compress)));
}

module.exports = exports["default"];